let RAPIDAPI_KEY="YOUR_RAPIDAPI_KEY_HERE",RAPIDAPI_HOST="moviesdatabase.p.rapidapi.com",FEATURED_ENDPOINT="https://moviesdatabase.p.rapidapi.com/titles?limit=5",MOST_FEARED_ENDPOINT="https://moviesdatabase.p.rapidapi.com/titles?genre=horror&limit=15",CINEMA_NACIONAL_ENDPOINT="https://moviesdatabase.p.rapidapi.com/titles?country=br&limit=15";function fetchFromApi(a){return fetch(a,{method:"GET",headers:{"X-RapidAPI-Key":RAPIDAPI_KEY,"X-RapidAPI-Host":RAPIDAPI_HOST}}).then(a=>{if(a.ok)return a.json();throw new Error("API error "+a.status)})}async function loadFeatured(){try{var a=await fetchFromApi(FEATURED_ENDPOINT),e=(a.results||a.titles||a).slice(0,5);let i=$("#featuredCarousel .carousel-track");i.empty(),e.forEach((a,e)=>{var t=a.image?.url||a.poster||a.primaryImage||a.thumbnail||"https://via.placeholder.com/800x450?text=No+image",r=a.title||a.name||a.originalTitle||"Untitled",t=$(`
        <div class="featured-card">
          <img src="${t}" alt="${r}">
          <div class="p-3">
            <h4>${r}</h4>
            <p class="text-muted small">${a.year||a.releaseYear||""}</p>
          </div>
        </div>
      `);i.append(t)})}catch(a){console.error("Falha ao carregar cards do carrossel principal:",a),$("#featuredCarousel .carousel-track").html('<div class="p-4">Não foi possível carregar os destaques.</div>')}}function loadRow(a,r,e=15){fetchFromApi(a).then(a=>{a=(a.results||a.titles||a).slice(0,e);r.empty(),a.forEach(a=>{var e=a.image?.url||a.poster||a.primaryImage||a.thumbnail||"https://via.placeholder.com/300x450?text=No+image",t=a.title||a.name||a.originalTitle||"Untitled",a=a.year||a.releaseYear||"",e=$(`
          <div class="movie-card">
            <img src="${e}" alt="${t}" />
            <div class="meta">
              <div class="title">${t}</div>
              <div class="muted small">${a}</div>
            </div>
          </div>
        `);r.append(e)})}).catch(a=>{console.error("Falha ao carregar cards do carrossel secundário:",a),r.html('<div class="p-3">Não foi possível carregar.</div>')})}$(function(){(async()=>{await loadFeatured()})(),loadRow(MOST_FEARED_ENDPOINT,$("#row-most-feared .row-track"),15),loadRow(CINEMA_NACIONAL_ENDPOINT,$("#row-cinema-nacional .row-track"),15),$(document).on("click",".movie-card",function(){var a=$(this).find(".meta .title").text();alert("Abrir detalhes para: "+a)})});